<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <title>Prime number</title>
</head>
<body>
    <h1>Calcular número primo que viene antes del 300000 sin Web Workers</h1>
    <p>Intenta de escribir en el input box luego de clickear el botón, no podrás ya que el hilo principal está ocupado haciendo el otro trabajo</p>
    <button onclick="onButtonClick()">Clickea para arrancar</button>
    <input>
    <p id="resultados">Aquí aparecerá el mensaje</p>
</body>

<script>
    const onButtonClick = () =>  {
        var limite = 300000;
        var mayorEncontradoHastaElMomento = 0;

        function esPrimo(numero) {

            for (var i = 2; i < numero; i++) {

                if (numero % i === 0) {
                    return false;
                }

            }

            return numero !== 1;
        }

        for (var x = 0; x < limite; x++) {
            if (esPrimo(x)) {
                mayorEncontradoHastaElMomento = x;
            }
        }

        var elemento = document.querySelector("#resultados");
        elemento.innerHTML = "Hola. El número primo más grande menor que " + limite.toString() + " es " + mayorEncontradoHastaElMomento.toString();
    }
</script>
</html>
